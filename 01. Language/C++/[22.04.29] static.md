# static 멤버변수

## C에서의 static
전역변수로 선언한 static 변수 : 선언된 파일 내에서만 참조를 허용  
함수 내부에서 선언한 static 변수 : 한번만 초기화되고, 지역변수와 달리 함수를 빠져나가도 소멸되지 않음  

## C++에서의 static
클래스 변수라고도 부른다.  
객체를 생성하지 않아도 메모리 공간에 딱 하나 할당이 되어서 해당 클래스의 모든 객체 간 공유되는 변수다.  
객체 내에 존재하는 것은 아니고 객체 외부에 있다. (사실상 멤버변수가 아니다.)  
다만 객체에서 멤버변수처럼 접근할 수 있는 권한을 준 것이다.  
생성 및 소멸 시점은 전역변수와 동일하다.  

## static 멤버변수의 초기화

클래스 내부에서는 멤버변수의 선언과 초기화를 동시에 수행할 수 없고,  
생성자 내부에서 초기화하면 새로운 객체가 생성될 때마다 계속 0으로 변경될 것이므로 다음과 같은 초기화 문법을 사용한다.  

클래스 내부에서 선언 후 클래스 외부에서 초기화한다.  

```cpp
class Simple
{
  static int stat;
}
int ClassName::stat=0;
```

## public으로 선언한 static 멤버변수
 
static 멤버변수를 public으로 선언하면 클래스의 이름 또는 객체의 이름을 통해 어디서든 접근이 가능하다.  

```cpp
cout << Simple::stat << endl;
```

## static 멤버함수

static 멤버함수 내부에서는 static 멤버변수와 static 멤버함수만 호출이 가능하다.  

## const static 멤버변수의 초기화

클래스 내부에 선언된 const 멤버변수의 초기화는 이니셜라이저를 통해야만 하지만  
const static으로 선언된 멤버변수는 선언과 동시에 초기화가 가능하다.  
```cpp
class Simple
{
  const static int STAT=10;
}
```
const static 멤버변수는 클래스가 정의될 때 지정된 값이 유지되는 상수이기 때문에 위와 같이 초기화가 가능하도록 허용하고 있다.
