# 가상소멸자

First의 생성자에서 str1을 동적할당한 후 소멸자에서 해제하고  
Second의 생성자에서 str2을 동적할당한 후 소멸자에서 해제하는 경우,  
메인함수에서 First 포인터에 Second 객체를 할당하고 delete 하면 First 소멸자만 호출된다. (Second는 가려지므로)  
이렇게 되면 메모리 누수(leak)가 발생하게 된다.  
따라서 delete 연산자에 사용된 포인터 변수의 자료형에 상관없이 모든 클래스의 소멸자가 호출되어야 한다.  

이를 위해 가상(virtual) 소멸자를 사용한다.  
첫번째 클래스의 소멸자에 virtual 선언을 붙여주면 상속받는 클래스의 소멸자에서 virtual 선언이 상속되며,  
이렇게 되면 메인함수에서 ptr을 delete 시 가리키고 있는 객체를 기준으로 가장 마지막에 오버라이딩된 소멸자부터 위로 하나씩 올라가며 모든 소멸자가 순차적으로 호출된다.  
